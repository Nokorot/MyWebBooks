{% macro render_fields(data) %}
  {% for key, entry in data.items() -%}
    {% if entry.data %}
      <div class="form-fields-group">
        <label for="{{ key }}">{{ entry.label }}:</label>
        {{ render_fields(entry.data) }}
      </div>
    {% else %}
      <div class="form-row">
          <label class="label " for="{{ key }}">{{ entry.label }}:</label>
          {% if not entry.type or entry.type == "str"  %}
        <input type="{{ entry.field_type | default('text') }}"  {% if entry.hidden %} hidden="true" {% endif %} id="{{ key }}" name="{{ entry.name }}" value="{{ entry.text | default('') }}">
          {% elif entry.type == "bool" %}
        <label class="switch">
        <input type="checkbox" id="{{ key }}" name="{{ key }}" checked="{{ entry.value }}">
        <span class="slider round"></span>
        </label>
          {% else %}
                <!-- Unknown form value type -->
          {% endif %}
      </div>
    {% endif %}
  {%- endfor %}
{% endmacro %}
